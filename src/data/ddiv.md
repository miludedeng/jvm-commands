### ddiv

----

**操作**

double类型数据除法

**格式**

|ddiv|
|--------:|

**结构**
```
ddiv = 111(0x6f)
```

**操作数栈**
```
..., value1，value2→
..., result
```

**描述**

value1和value2都必须为double类型数据，指令执行时，value1和value2从操作数栈中出栈，并且经过数值集合转换后得到值value1’和value2’，接着将这两个数值相除(value1’÷value2’)，结果转换为double类型值result，最后result被压入到操作数栈中。ddiv指令的运算结果取决于IEEE规范中规定的运算规则:
* 如果value1’和value2’中有任意一个值为NaN，那运算结果即为NaN。
* 如果value1’和value2’两者都不为NaN，那当两者符号相同时，运算结果为正，反着，当两者符号不同时，运算结果为负。
* 两个无穷大相除，运算结果为NaN。
* 一个无穷大的数与一个有限的数相除，结果为无穷大，无穷大的符号由第2点规则确定。
* 一个有限的数与一个无穷大的数相除，结果为零，零值的符号由第2点规则确定。
* 零除以零结果为NaN，零除以任意其他非零有限值结果为零，零值的符号由第2点规则确定。
* 任意非零有限值除以零结果为无穷大，无穷大的符号由第2点规则确定。
* 对于上述情况之外的场景，即任意一个操作数都不是无穷大、零以及NaN，就按算术求商，并以IEEE754规范的最接近数舍入模式得到运算结果，如果运算结果的绝对值太大以至于无法使用double说就是出现了上限溢出，那结果将会使用具有适当符号的无穷大来代替。如果运算结果的绝对值太小以至于无法使用double类型来表示，换句话说就是出现了下限溢出，那结果将会使用具有适当符号的零值来代替。

Java虚拟机必须支持IEEE754中定义的逐级下溢(GradualUnderflow)，尽管指令执行期间，上溢、下溢以及精度丢失等情况都有可能发生，但ddiv指令永远不会抛出任何运行时异常。
