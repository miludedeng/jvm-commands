### lreturn

----

**操作**

结束方法，并返回一个 long 类型数据

**格式**

|lreturn|
|--------:|

**结构**
```
lreturn = 173(0xad)
```

**操作数栈**
```
..., value →
[empty]
```

**描述**

当前方法的返回值必须为long类型，value必须是一个long类型的数据。如果当前方法是一个同步(声明为synchronized)方法，那在方法调用时进入或者重入的管程应当被正确更新状态或退出，就像当前线程执行了monitorexit指令一样。如果执行过程当中没有异常被抛出的话，那value将从当前栈帧(§2.6)中出栈，然后压入到调用者栈帧的操作数栈中，在当前栈帧操作数栈中所有其他的值都将会被丢弃掉。

指令执行后，解释器会恢复调用者的栈帧，并且把程序控制权交回到调用者。

**注意**

如果虚拟机实现没有严格执行在同步中规定的结构化锁定规则，导致当前方法是一个同步方法，但当前线程在调用方法时没有成功持有(Enter)
或重入(Reentered)相应的管程，那lreturn指令将会抛出IllegalMonitorStateException异常。这是可能出现的，譬如一个同步方法只包了对方法同步对象的monitorexit指令，但是包配对的monitorenter指令。

另外，如果虚拟机实现严格执行了§2.11.10中规定的结构化锁定规则，但当前方法调用时，其中的第一条规则被违反的话，lreturn指令也会抛出IllegalMonitorStateException异常。
