### areturn

----

**操作**

结束方法，并返回一个 reference 类型数据

**格式**

|  areturn |
| --------:   |



**结构**
```
areturn = 176(0xb0)
```

**操作数栈**
```
..., objectref →
[empty]
```

**描述**

objectref 必须是一个 reference 类型的数据，并且必须指向一个类型与 当前方法的方法描述符中的返回值相匹配的对象。如果当前方法是一个同步(声明为 synchronized)方法，那在方法调用时 进入或者重入的管程应当被正确更新状态或退出，就像当前线程执行了 monitorexit 指令一样。如果执行过程当中没有异常被抛出的话，那 objectref 将从当前栈帧中出栈，并压入到调用者栈帧的操作数 栈中，在当前栈帧操作数栈中所有其他的值都将会被丢弃掉。 指令执行后，解释器会恢复调用者的栈帧，并且把程序控制权交回到调用者。


**运行时异常**

如果虚拟机实现没有严格执行在同步中规定的结构化锁定规则，导致 当前方法是一个同步方法，但当前线程在调用方法时没有成功持有(Enter)或重入(Reentered)相应的管程，那 areturn 指令将会抛出 IllegalMonitorStateException 异常。这是可能出现的，譬如一个同步 方法只包 了对方法同步对象的 monitorexit 指令，但是 包 配对的 monitorenter 指令。另外，如果虚拟机实现严格执行了同步中规定的结构化锁定规则，但 当前方法调用时，其中的第一条规则被违反的话，areturn 指令也会抛出 IllegalMonitorStateException 异常。
